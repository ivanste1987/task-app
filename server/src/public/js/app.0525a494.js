(function(e){function t(t){for(var a,o,c=t[0],r=t[1],l=t[2],d=0,p=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,c=1;c<s.length;c++){var r=s[c];0!==n[r]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=r;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"07a4":function(e,t,s){},"2d42":function(e,t,s){"use strict";s("5222")},"33a0":function(e,t,s){},"3c03":function(e,t,s){},5222:function(e,t,s){},"568b":function(e,t,s){"use strict";s("b73d")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("7a23"),n={id:"main-content"};function i(e,t,s,i,o,c){var r=Object(a["x"])("router-view");return Object(a["r"])(),Object(a["f"])("section",n,[Object(a["i"])(r)])}var o={data:function(){return{isLoggedin:this.$store.getters.isLoggedin,token:this.$store.getters.token}},created:function(){this.$store.dispatch("stayLoggedin")}};s("dc02");o.render=i;var c=o,r=s("6c02"),l={id:"login"},u={class:"panels-container"},d={class:"panel left-panel"},p={class:"content"},m=Object(a["i"])("h3",null,"New here?",-1),f=Object(a["i"])("p",null," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Cum at fuga tempore, magni corporis sunt quos eos modi et amet impedit totam! ",-1),b=Object(a["i"])("img",{src:"images/sing-in.png",alt:"image",class:"image"},null,-1),g={class:"panel right-panel"},h={class:"content"},O=Object(a["i"])("h3",null,"You already have an open account ?",-1),j=Object(a["i"])("p",null," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Cum at fuga tempore, magni corporis sunt quos eos modi et amet impedit totam! ",-1),v=Object(a["i"])("img",{src:"images/sing-up.png",alt:"image",class:"image"},null,-1);function k(e,t,s,n,i,o){var c=Object(a["x"])("user-auth"),r=Object(a["x"])("user-singup");return Object(a["r"])(),Object(a["f"])("div",{id:"auth",class:i.toggle?"sign-up-mode":""},[Object(a["i"])("section",l,[Object(a["i"])(c),Object(a["i"])("article",u,[Object(a["i"])("div",d,[Object(a["i"])("div",p,[m,f,Object(a["i"])("button",{class:"btn transparent",id:"singin-btn",onClick:t[1]||(t[1]=function(){return o.change&&o.change.apply(o,arguments)})}," Sing up "),b])]),Object(a["i"])("div",g,[Object(a["i"])("div",h,[O,j,Object(a["i"])("button",{class:"btn transparent",id:"singup-btn",onClick:t[2]||(t[2]=function(){return o.change&&o.change.apply(o,arguments)})}," Sing in "),v])])]),Object(a["i"])(r)])],2)}var w={class:"singin-singup sing-in-form"},y=Object(a["i"])("h2",null,"Sign in",-1),T={class:"input-field"},U=Object(a["i"])("i",{class:"fas fa-at"},null,-1),M={class:"input-field"},A=Object(a["i"])("i",{class:"fas fa-unlock"},null,-1),S={class:"error"},_=Object(a["i"])("button",{type:"submit",class:"btn"},"Sing in",-1);function I(e,t,s,n,i,o){var c=this;return Object(a["r"])(),Object(a["f"])("section",w,[Object(a["i"])("form",{onSubmit:t[5]||(t[5]=Object(a["F"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"])),autocomplete:"off"},[y,Object(a["i"])("div",T,[U,Object(a["E"])(Object(a["i"])("input",{type:"email",name:"email",id:"userEmail",placeholder:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.user.email=e}),onFocus:t[2]||(t[2]=function(e){return c.error=""})},null,544),[[a["B"],this.user.email]])]),Object(a["i"])("div",M,[A,Object(a["E"])(Object(a["i"])("input",{type:"password",name:"password",id:"userPassword",placeholder:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.user.password=e}),onFocus:t[4]||(t[4]=function(e){return c.error=""})},null,544),[[a["B"],this.user.password]])]),Object(a["i"])("p",S,Object(a["z"])(this.error),1),_],32)])}s("ac1f"),s("5319"),s("96cf");var x=s("1da1"),C={data:function(){return{user:{email:"",password:""},error:""}},methods:{login:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("login",e.user);case 3:e.$router.replace("/tasks"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),t.t0&&(e.error="Your email or password is wrong, please try again.");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}};s("6535");C.render=I;var P=C,$=(s("b0c0"),{class:"singin-singup sign-up-form"}),B=Object(a["i"])("h2",null,"Sing up",-1),z={class:"input-field"},E=Object(a["i"])("i",{class:"fas fa-at"},null,-1),L={class:"input-field"},N=Object(a["i"])("i",{class:"fas fa-unlock"},null,-1),D={class:"input-field"},F=Object(a["i"])("i",{class:"fas fa-signature"},null,-1),G={class:"input-field"},V=Object(a["i"])("i",{class:"fas fa-user-secret"},null,-1),R=Object(a["i"])("button",{type:"submit",class:"btn"},"Sing up",-1),q=Object(a["i"])("i",{class:"fas fa-times-circle fa-lg"},null,-1);function J(e,t,s,n,i,o){var c=this,r=Object(a["x"])("the-modal");return Object(a["r"])(),Object(a["f"])("section",$,[Object(a["i"])("form",{onSubmit:t[5]||(t[5]=Object(a["F"])((function(){return o.createUser&&o.createUser.apply(o,arguments)}),["prevent"])),autocomplete:"off"},[B,Object(a["i"])("div",z,[E,Object(a["E"])(Object(a["i"])("input",{type:"email",name:"email",id:"email",placeholder:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.user.email=e})},null,512),[[a["B"],this.user.email]])]),Object(a["i"])("div",L,[N,Object(a["E"])(Object(a["i"])("input",{type:"password",name:"password",id:"password",placeholder:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.user.password=e})},null,512),[[a["B"],this.user.password]])]),Object(a["i"])("div",D,[F,Object(a["E"])(Object(a["i"])("input",{type:"text",name:"name",id:"name",placeholder:"name","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.user.name=e})},null,512),[[a["B"],this.user.name]])]),Object(a["i"])("div",G,[V,Object(a["E"])(Object(a["i"])("input",{type:"number",name:"age",id:"age",placeholder:"age","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.user.age=e})},null,512),[[a["B"],this.user.age]])]),R],32),Object(a["i"])(a["c"],null,{default:Object(a["D"])((function(){return[(Object(a["r"])(),Object(a["f"])(a["b"],{to:"#app"},[i.close?(Object(a["r"])(),Object(a["f"])(r,{key:0,class:i.close?"show":""},{default:Object(a["D"])((function(){return[Object(a["i"])("p",null,Object(a["z"])(c.validationMessage),1),Object(a["i"])("button",{onClick:t[6]||(t[6]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),class:"close-btn"},[q])]})),_:1},8,["class"])):Object(a["g"])("",!0)]))]})),_:1})])}var H={open:""};function Y(e,t,s,n,i,o){return Object(a["r"])(),Object(a["f"])("dialog",H,[Object(a["w"])(e.$slots,"default",{},(function(){return[Object(a["i"])("p",null,Object(a["z"])(s.message),1)]}))])}var K={props:["message"]};s("d62d");K.render=Y;var Q=K,W={components:{TheModal:Q},data:function(){return{user:{name:"",email:"",password:"",age:""},validForm:null,close:!1}},computed:{validationMessage:function(){return this.$store.getters.sendMessage}},methods:{createUser:function(){this.close=!0,this.$store.dispatch("createUser",this.user),this.user.name="",this.user.email="",this.user.password="",this.user.age=""},closeModal:function(){this.close=!1}}};W.render=J;var X=W,Z={components:{UserAuth:P,UserSingup:X},data:function(){return{toggle:!1}},methods:{change:function(){this.toggle=!this.toggle}}};s("dc7b");Z.render=k;var ee=Z,te={class:"userProfile"},se={class:"imgBtns"},ae={class:"modalFile"},ne={class:"fileHolder"},ie=Object(a["i"])("i",{class:"far fa-trash-alt fa-2x"},null,-1),oe={class:"userContent"},ce={class:"userInfo"},re={class:"task-container"},le={class:"col"},ue=Object(a["i"])("h5",null,"Active Tasks",-1),de={class:"col"},pe=Object(a["i"])("h5",null,"Finished Tasks",-1),me={class:"col"},fe=Object(a["i"])("h5",null,"Total Tasks",-1),be={class:"userProgress"},ge={class:"progress"},he=Object(a["i"])("h5",null,"Progress:",-1),Oe=Object(a["i"])("i",{class:"fas fa-times-circle fa-lg"},null,-1);function je(e,t,s,n,i,o){var c=this,r=Object(a["x"])("user"),l=Object(a["x"])("the-modal");return Object(a["r"])(),Object(a["f"])("div",te,[Object(a["i"])("div",se,[Object(a["i"])("div",ae,[Object(a["i"])("img",{src:e.userImage,alt:"avatar",class:"userAvatar",onError:t[1]||(t[1]=function(){return o.setAltImg&&o.setAltImg.apply(o,arguments)})},null,40,["src"]),Object(a["i"])("div",ne,[Object(a["i"])("input",{type:"file",onChange:t[2]||(t[2]=function(){return o.fileChange&&o.fileChange.apply(o,arguments)}),class:"fileInput"},null,32)])]),Object(a["i"])("div",null,[Object(a["i"])("button",{onClick:t[3]||(t[3]=function(){return o.deleteAvatar&&o.deleteAvatar.apply(o,arguments)}),class:"btnImg"},[ie])])]),Object(a["i"])("div",oe,[Object(a["i"])("div",ce,[Object(a["i"])(r,{key:e.provideUser._id,name:e.provideUser.name,age:e.provideUser.age,email:e.provideUser.email,password:e.provideUser.password,onUpdateUser:o.updateUser},null,8,["name","age","email","password","onUpdateUser"]),Object(a["i"])("div",re,[Object(a["i"])("div",le,[ue,Object(a["i"])("h1",null,[Object(a["i"])("b",null,Object(a["z"])(e.tasks.length-e.tasksCompleted),1)])]),Object(a["i"])("div",de,[pe,Object(a["i"])("h1",null,[Object(a["i"])("b",null,Object(a["z"])(e.tasksCompleted),1)])]),Object(a["i"])("div",me,[fe,Object(a["i"])("h1",null,[Object(a["i"])("b",null,Object(a["z"])(e.tasks.length),1)])])])]),Object(a["i"])("div",be,[Object(a["i"])("div",ge,[he,Object(a["i"])("progress",{id:"file",max:e.tasks.length,value:e.tasksCompleted}," 70% ",8,["max","value"])])])]),Object(a["i"])(a["c"],null,{default:Object(a["D"])((function(){return[(Object(a["r"])(),Object(a["f"])(a["b"],{to:"#app"},[i.close?(Object(a["r"])(),Object(a["f"])(l,{key:0,class:i.close?"show":""},{default:Object(a["D"])((function(){return[Object(a["i"])("strong",null,Object(a["z"])(c.validationMessage),1),Object(a["i"])("strong",null,Object(a["z"])(i.message),1),Object(a["i"])("button",{onClick:t[4]||(t[4]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),class:"close-btn"},[Oe])]})),_:1},8,["class"])):Object(a["g"])("",!0)]))]})),_:1})])}var ve=s("5530"),ke=s("5502"),we={class:"user"},ye=Object(a["i"])("h5",null,"User info",-1),Te=Object(a["i"])("label",null,"Name:",-1),Ue={key:0,for:"name"},Me=Object(a["i"])("label",null,"Age: ",-1),Ae={key:0,for:"age"},Se=Object(a["i"])("label",null,"Email: ",-1),_e={key:0,for:"email"},Ie={key:0},xe={class:"buttons"};function Ce(e,t,s,n,i,o){var c=this;return Object(a["r"])(),Object(a["f"])("div",we,[Object(a["i"])("ul",null,[ye,Object(a["i"])("li",null,[Te,i.change?Object(a["g"])("",!0):(Object(a["r"])(),Object(a["f"])("label",Ue,Object(a["z"])(s.name),1)),i.change?Object(a["E"])((Object(a["r"])(),Object(a["f"])("input",{key:1,type:"text",id:"name",placeholder:s.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.editName=e})},null,8,["placeholder"])),[[a["B"],this.editName]]):Object(a["g"])("",!0)]),Object(a["i"])("li",null,[Me,i.change?Object(a["g"])("",!0):(Object(a["r"])(),Object(a["f"])("label",Ae,Object(a["z"])(s.age),1)),i.change?Object(a["E"])((Object(a["r"])(),Object(a["f"])("input",{key:1,type:"text",name:"age",id:"age",placeholder:s.age,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.editAge=e})},null,8,["placeholder"])),[[a["B"],this.editAge]]):Object(a["g"])("",!0)]),Object(a["i"])("li",null,[Se,i.change?Object(a["g"])("",!0):(Object(a["r"])(),Object(a["f"])("label",_e,Object(a["z"])(s.email),1)),i.change?Object(a["E"])((Object(a["r"])(),Object(a["f"])("input",{key:1,type:"email",name:"email",id:"email",placeholder:s.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.editEmail=e})},null,8,["placeholder"])),[[a["B"],this.editEmail]]):Object(a["g"])("",!0)]),Object(a["i"])("li",null,[i.change?(Object(a["r"])(),Object(a["f"])("label",Ie,"Password:")):Object(a["g"])("",!0),i.change?Object(a["E"])((Object(a["r"])(),Object(a["f"])("input",{key:1,type:"password",name:"password",id:"password",placeholder:s.password,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.editPassword=e})},null,8,["placeholder"])),[[a["B"],this.editPassword]]):Object(a["g"])("",!0)])]),Object(a["i"])("div",xe,[i.change?(Object(a["r"])(),Object(a["f"])("button",{key:0,onClick:t[5]||(t[5]=function(e){return o.updateUser()}),class:"btn"},"Update")):Object(a["g"])("",!0),Object(a["i"])("button",{onClick:t[6]||(t[6]=function(e){return c.edit()}),class:"btn",value:i.change},Object(a["z"])(i.change?"Close":"Edit"),9,["value"])])])}var Pe={props:["name","password","email","age"],data:function(){return{change:!1,editName:this.name,editAge:this.age,editEmail:this.email,editPassword:this.password}},methods:{edit:function(){this.change=!this.change},updateUser:function(){this.edit(),this.$emit("update-user",this.editName,this.editAge,this.editEmail,this.editPassword)}}};Pe.render=Ce;var $e=Pe,Be={components:{User:$e,TheModal:Q},data:function(){return{avatarImage:null,selectedFile:null,message:null,user:{},close:!1,completed:0,uncompleted:[]}},created:function(){this.getUser(),this.getTasks()},computed:Object(ve["a"])(Object(ve["a"])({},Object(ke["b"])(["provideUser","userToken","userImage","responseMessage","tasks","tasksCompleted"])),{},{validationMessage:function(){return this.$store.getters.responseMessage}}),methods:{getUser:function(){this.$store.dispatch("getUser")},getTasks:function(){this.$store.dispatch("allTasks")},fileChange:function(e){this.selectedFile=e.target.files[0],this.addAvatar()},setAltImg:function(e){e.target.src="https://via.placeholder.com/150"},addAvatar:function(){this.close=!0;try{this.message="";var e=new FormData;e.append("avatar",this.selectedFile,this.selectedFile.name),this.$store.dispatch("addUserImage",e)}catch(t){t&&(this.message="Please add image First.")}},deleteAvatar:function(){this.close=!0,this.$store.dispatch("deleteUserImage")},updateUser:function(e,t,s,a){try{this.user={name:e,age:t,email:s,password:a},this.$store.dispatch("updateUserData",this.user)}catch(n){n&&(this.message="Something went wrong, please try again later.")}},closeModal:function(){this.close=!1}}};s("eb08");Be.render=je;var ze=Be,Ee={class:"todos"};function Le(e,t,s,n,i,o){var c=Object(a["x"])("the-header"),r=Object(a["x"])("router-view");return Object(a["r"])(),Object(a["f"])("div",Ee,[Object(a["i"])(c,{onToggleNav:o.toggleNav},null,8,["onToggleNav"]),Object(a["i"])(r,{id:"todos-router",class:i.showNav?"hiddeNavRouter":"showNavRouter"},null,8,["class"])])}var Ne=Object(a["i"])("i",{class:"fas fa-bars fa-2x"},null,-1),De={class:"avatar"},Fe={class:"router-links"},Ge=Object(a["i"])("i",{class:"fas fa-tasks fa-lg"},null,-1),Ve=Object(a["h"])("Tasks"),Re=Object(a["i"])("i",{class:"far fa-id-card"},null,-1),qe=Object(a["h"])("Profile"),Je={class:"actionsBtns"};function He(e,t,s,n,i,o){var c=Object(a["x"])("router-link");return Object(a["r"])(),Object(a["f"])("header",{class:i.show?"showNav":"hiddeNav"},[Object(a["i"])("button",{onClick:t[1]||(t[1]=function(){return o.showNav&&o.showNav.apply(o,arguments)}),class:"navBtn"},[Ne]),Object(a["i"])("figure",De,[Object(a["i"])("img",{src:e.userImage,alt:"Avatar",onError:t[2]||(t[2]=function(){return o.setAltImg&&o.setAltImg.apply(o,arguments)})},null,40,["src"]),Object(a["i"])("figcaption",null,Object(a["z"])(e.provideUser.name),1)]),Object(a["i"])("ul",Fe,[Object(a["i"])("li",null,[Ge,Object(a["i"])(c,{to:"/tasks"},{default:Object(a["D"])((function(){return[Ve]})),_:1})]),Object(a["i"])("li",null,[Re,Object(a["i"])(c,{to:"/profile"},{default:Object(a["D"])((function(){return[qe]})),_:1})])]),Object(a["i"])("ul",Je,[Object(a["i"])("li",null,[Object(a["i"])("button",{onClick:t[3]||(t[3]=function(){return o.logout&&o.logout.apply(o,arguments)}),class:"logoutBtn"},"Log out")]),Object(a["i"])("li",null,[Object(a["i"])("button",{onClick:t[4]||(t[4]=function(){return o.logoutAll&&o.logoutAll.apply(o,arguments)}),class:"logoutBtn"}," Log out all devices ")]),Object(a["i"])("li",null,[Object(a["i"])("button",{onClick:t[5]||(t[5]=function(){return o.deleteProfile&&o.deleteProfile.apply(o,arguments)}),class:"delBtn"},"Delete Profile")])])],2)}var Ye={data:function(){return{isLoggedin:this.$store.getters.isLoggedin,show:!1,displayImage:!1}},created:function(){this.getUser()},computed:Object(ve["a"])({},Object(ke["b"])(["provideUser","userImage"])),methods:{getUser:function(){this.$store.dispatch("getUser")},setAltImg:function(e){e.target.src="https://via.placeholder.com/150"},logout:function(){this.$router.push("/"),this.$store.dispatch("logout")},logoutAll:function(){this.$store.dispatch("logoutAll"),this.$router.replace("/")},deleteProfile:function(){this.$store.dispatch("deleteProfile"),this.$router.push("/")},showNav:function(){this.show=!this.show,this.$emit("toggle-nav",this.show)}}};s("568b");Ye.render=He;var Ke=Ye,Qe={components:{TheHeader:Ke},data:function(){return{showNav:!0}},methods:{toggleNav:function(){this.showNav=!this.showNav}}};s("2d42");Qe.render=Le;var We=Qe;function Xe(e,t,s,n,i,o){var c=Object(a["x"])("list-of-tasks");return Object(a["r"])(),Object(a["f"])("section",null,[Object(a["i"])(c)])}s("a4d3"),s("e01a");var Ze={class:"list-of-task"},et={class:"newTask-container"},tt={class:"input-field"},st=Object(a["i"])("button",{type:"submit",class:"submit"},[Object(a["i"])("i",{class:"fas fa-plus-circle fa-2x"})],-1),at=Object(a["i"])("i",{class:"fas fa-times-circle fa-lg"},null,-1);function nt(e,t,s,n,i,o){var c=this,r=Object(a["x"])("task"),l=Object(a["x"])("the-modal");return Object(a["r"])(),Object(a["f"])("div",Ze,[Object(a["i"])("div",et,[Object(a["i"])("form",{onSubmit:t[3]||(t[3]=Object(a["F"])((function(){return o.addTask&&o.addTask.apply(o,arguments)}),["prevent"])),autocomplete:"off"},[Object(a["i"])("div",tt,[Object(a["E"])(Object(a["i"])("input",{type:"text",name:"description",id:"description",placeholder:"Add a new task","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.description=e}),onFocus:t[2]||(t[2]=function(e){return c.description=""})},null,544),[[a["B"],this.description]]),st])],32)]),Object(a["i"])("ul",null,[(Object(a["r"])(!0),Object(a["f"])(a["a"],null,Object(a["v"])(this.tasks,(function(e){return Object(a["r"])(),Object(a["f"])(r,{key:e._id,_id:e._id,description:e.description,completed:e.completed,onChangeStatus:o.changeStatus,onDeleteTask:o.deleteTask,onUpdateTask:o.update},null,8,["_id","description","completed","onChangeStatus","onDeleteTask","onUpdateTask"])})),128))]),Object(a["i"])(a["c"],null,{default:Object(a["D"])((function(){return[(Object(a["r"])(),Object(a["f"])(a["b"],{to:"#app"},[i.modalShow?(Object(a["r"])(),Object(a["f"])(l,{key:0,class:i.modalShow?"show":""},{default:Object(a["D"])((function(){return[Object(a["i"])("p",null,Object(a["z"])(c.validationMessage),1),Object(a["i"])("button",{onClick:t[4]||(t[4]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),class:"close-btn"},[at])]})),_:1},8,["class"])):Object(a["g"])("",!0)]))]})),_:1})])}var it={class:"task-content"},ot={class:"task-check"},ct={class:"task-filed"},rt={key:0,for:"description"},lt={class:"modal-buttons"},ut={key:0,class:"hiddenButtons"},dt=Object(a["i"])("i",{class:"fas fa-trash"},null,-1),pt=Object(a["i"])("i",{class:"fas fa-edit"},null,-1);function mt(e,t,s,n,i,o){var c=this;return Object(a["r"])(),Object(a["f"])("li",{class:[s.completed?"line-true":"","task-li"]},[Object(a["i"])("div",it,[Object(a["i"])("div",ot,[Object(a["i"])("input",{type:"checkbox",class:"checkbox",onClick:t[1]||(t[1]=function(e){return o.changeStatus(s._id)}),checked:s.completed},null,8,["checked"]),Object(a["i"])("i",{class:[s.completed?"check":"blue","fas fa-check-square fa-2x"]},null,2)]),Object(a["i"])("div",ct,[i.readonly?(Object(a["r"])(),Object(a["f"])("label",rt,Object(a["z"])(s.description),1)):Object(a["g"])("",!0),i.readonly?Object(a["g"])("",!0):Object(a["E"])((Object(a["r"])(),Object(a["f"])("input",{key:1,type:"text",class:"description",name:"description",placeholder:s.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.editDescription=e})},null,8,["placeholder"])),[[a["B"],this.editDescription]])]),Object(a["i"])("div",lt,[i.readonly?Object(a["g"])("",!0):(Object(a["r"])(),Object(a["f"])("div",ut,[Object(a["i"])("button",{onClick:t[3]||(t[3]=function(e){return o.update(s._id)})}," Okey "),Object(a["i"])("button",{onClick:t[4]||(t[4]=function(e){return o.edit()})}," Cancel "),Object(a["i"])("button",{onClick:t[5]||(t[5]=function(e){return o.deleteTask(s._id)})},[dt])]))]),Object(a["i"])("button",{class:"edit-btn",onClick:t[6]||(t[6]=function(e){return o.edit()})},[pt])])],2)}var ft={props:["_id","completed","description"],data:function(){return{readonly:!0,editDescription:null}},methods:{deleteTask:function(){this.$emit("delete-task",this._id)},update:function(){this.edit(),this.$emit("update-task",this._id,this.editDescription)},changeStatus:function(){this.$emit("change-status",this._id,this.completed)},edit:function(){this.readonly=!this.readonly}}};s("d4bc");ft.render=mt;var bt=ft,gt={components:{Task:bt,TheModal:Q},data:function(){return{description:null,modalShow:!1}},created:function(){this.getAllTasks()},computed:Object(ve["a"])(Object(ve["a"])({},Object(ke["b"])(["tasks","taskModalMessage"])),{},{validationMessage:function(){return this.$store.getters.taskModalMessage}}),methods:{getAllTasks:function(){this.$store.dispatch("allTasks")},addTask:function(){this.modalShow=!0,this.task={description:this.description},this.$store.dispatch("addTask",this.task),this.description=null,this.getAllTasks()},deleteTask:function(e){this.modalShow=!0,this.$store.dispatch("delete",e)},update:function(e,t){this.modalShow=!0;var s={id:e,description:t};this.$store.dispatch("update",s)},changeStatus:function(e,t){var s={id:e,completed:!t};this.$store.dispatch("completed",s)},closeModal:function(){this.modalShow=!this.modalShow}}};s("eee0");gt.render=nt;var ht=gt,Ot={components:{ListOfTasks:ht}};Ot.render=Xe;var jt=Ot,vt=s("bc3a"),kt=s.n(vt),wt={checkToken:function(e){return e=localStorage.getItem("user"),e},login:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={email:t.email,password:t.password},s.next=3,kt.a.post("api/users/login",Object(ve["a"])({},a)).then((function(t){if(200!==t.status){var s=new Error(t.message||"Failed to authenticate. Check your login data.");throw s}e.commit("setUser",{_id:t.data.user._id,token:t.data.token,isLoggedin:!0}),localStorage.setItem("user",t.data.token),localStorage.setItem("id",t.data.user._id)})).catch((function(e){if(e)throw e}));case 3:case"end":return s.stop()}}),s)})))()},logout:function(e){var t={headers:{Authorization:"Bearer ".concat(e.state.token)}};kt.a.post("api/users/logout",{},t).then((function(e){if(200!==e.status){var t=new Error(e.meesage||"Something went wrong, please try again");throw t}})),e.commit("setUser",{_id:null,token:null,isLoggedin:!1}),localStorage.removeItem("user"),localStorage.removeItem("id")},logoutAll:function(e){var t={headers:{Authorization:"Bearer ".concat(e.state.token)}};kt.a.post("api/users/logoutAll",{},t).then((function(e){if(200!==e.status){var t=new Error(e.meesage||"Something went wrong, please try again");throw t}})),e.commit("setUser",{_id:null,token:null,isLoggedin:!1}),localStorage.removeItem("user"),localStorage.removeItem("id")},stayLoggedin:function(e){var t=localStorage.getItem("user"),s=localStorage.getItem("id");t&&s&&e.commit("setUser",{token:t,userID:s})}},yt={setUser:function(e,t){e.token=t.token,e._id=t._id,e.isLoggedin=t.isLoggedin}},Tt={token:function(e){return e.token},isLoggedin:function(e){return null!==e.token?e.isLoggedin=!0:e.isLoggedin=!1,e.isLoggedin}},Ut={state:function(){return{token:null,_id:null,isLoggedin:!1}},mutations:yt,actions:wt,getters:Tt},Mt=Ut,At={createUser:function(e,t){e.user=t},createMessage:function(e,t){e.message=t}},St={createUser:function(e,t){var s={name:t.name,email:t.email,password:t.password,age:t.age};kt.a.post("api/users",s).then((function(t){201===t.status&&e.commit("createMessage",t.data.message)})).catch((function(t){409===t.response.status?e.commit("createMessage",t.response.data.message):t.response.data.message.errors.password?e.commit("createMessage","Opps, the password should be longer than 7 letters"):t.response.data.message.errors.name?e.commit("createMessage","Opps, name is required."):t.response.data.message.errors.email&&e.commit("createMessage","Opps, email is not valid.")})),e.commit("createUser",Object(ve["a"])({},s))}},_t={sendMessage:function(e){return e.message}},It={state:function(){return{user:{},message:""}},mutations:At,actions:St,getters:_t},xt=It,Ct={allTasks:function(e){var t=e.rootGetters.token,s={headers:{Authorization:"Bearer ".concat(t)}};kt.a.get("api/tasks",s).then((function(t){e.commit("setCompletedTasks",t.data),e.commit("getAllTasks",t.data.reverse())})).catch((function(t){e.commit("setMessage",t.response.data.error)}))},addTask:function(e,t){var s={description:t.description},a=e.rootGetters.token,n={headers:{Authorization:"Bearer ".concat(a)}};kt.a.post("api/tasks",s,n).then((function(s){e.commit("addTask",t),e.commit("setMessage",s.data.message)})).catch((function(t){t&&e.commit("setMessage",t.response.data.error)}))},delete:function(e,t){var s=e.rootGetters.token,a={headers:{Authorization:"Bearer ".concat(s)}};kt.a.delete("api/tasks/delete/".concat(t),a).then((function(s){e.commit("deleteTask",t),e.commit("setMessage",s.data.message)}))},update:function(e,t){var s={id:t.id,description:t.description},a=e.rootGetters.token,n={headers:{Authorization:"Bearer ".concat(a)}};kt.a.patch("api/tasks/update/".concat(s.id),{description:s.description},n).then((function(s){e.commit("updateTask",t),e.commit("setMessage",s.data.message)})).catch((function(t){t&&e.commit("setMessage",t.response.data.error)}))},completed:function(e,t){var s={_id:t.id,completed:t.completed},a=e.rootGetters.token,n={headers:{Authorization:"Bearer ".concat(a)}};kt.a.patch("api/tasks/update/".concat(s._id),{completed:s.completed},n),e.commit("completedTask",t)}},Pt={tasks:function(e){return e.allTasks},tasksCompleted:function(e){return e.completedTasks},taskModalMessage:function(e){return e.taskMessage}},$t=(s("c740"),s("4160"),s("a434"),s("159b"),{getAllTasks:function(e,t){e.allTasks=t},addTask:function(e,t){e.task=t},deleteTask:function(e,t){var s=e.allTasks.findIndex((function(e){return e._id===t}));e.allTasks.splice(s,1)},updateTask:function(e,t){var s=t.id,a=t.description,n=e.allTasks.findIndex((function(e){return e._id===s}));e.allTasks[n].description=a},completedTask:function(e,t){var s=t.id,a=t.completed,n=e.allTasks.findIndex((function(e){return e._id===s}));e.allTasks[n].completed=a},setCompletedTasks:function(e,t){var s=0;t.forEach((function(e){1==e.completed&&s++})),e.completedTasks=s},setMessage:function(e,t){e.taskMessage=t}}),Bt={state:function(){return{allTasks:[],task:{},completedTasks:0,taskMessage:null}},mutations:$t,actions:Ct,getters:Pt},zt=Bt,Et={getUser:function(e,t){e.user=t},userLastToken:function(e,t){e.token=t},userImage:function(e,t){e.imagePath=t},responseMessage:function(e,t){e.message=t},updateUser:function(e,t){e.user=t},deleteProfile:function(e,t){e.user=t}},Lt={getUser:function(e){var t=e.rootGetters.token,s={headers:{Authorization:"Bearer ".concat(t)}};kt.a.get("http://localhost:3000/users/profile",s).then((function(t){e.commit("getUser",t.data),e.commit("userLastToken",t.data.tokens[t.data.tokens.length-1].token),e.commit("userImage","http://localhost:3000/users/".concat(t.data._id,"/avatar"))})).catch((function(t){e.commit("responseMessage",t.message)}))},addUserImage:function(e,t){var s=e.rootGetters.token,a={headers:{Authorization:"Bearer ".concat(s)}};kt.a.post("http://localhost:3000/users/me/avatar",t,a).then((function(t){e.commit("userImage","http://localhost:3000/users/".concat(t.data._id,"/avatar")),e.commit("responseMessage",t.data.message),e.dispatch("getUser")})).catch((function(t){t&&e.commit("responseMessage","Not the appropriate image format, you can use PNG JPG JPEG SVG ")}))},deleteUserImage:function(e){var t=e.rootGetters.token,s={headers:{Authorization:"Bearer ".concat(t)}};kt.a.delete("http://localhost:3000/users/me/avatar",s).then((function(t){e.commit("userImage","http://localhost:3000/users/".concat(t.data._id,"/avatar")),e.commit("responseMessage",t.data.message)}))},updateUserData:function(e,t){var s=e.rootGetters.token,a={headers:{Authorization:"Bearer ".concat(s)}},n={name:t.name,age:t.age,email:t.email,password:t.password};console.log(n),kt.a.patch("http://localhost:3000/users/update/me",n,a).then((function(t){e.commit("updateUser",t.data),e.commit("responseMessage",t.data.message)})).catch((function(t){t&&e.commit("responseMessage","Bad request, you did something worng. Please try again.")}))},deleteProfile:function(e){var t=e.rootGetters.token,s={headers:{Authorization:"Bearer ".concat(t)}};kt.a.delete("http://localhost:3000/users/me",s).then((function(){e.commit("setUser",{_id:null,token:null,isLoggedin:!1}),localStorage.removeItem("user"),localStorage.removeItem("id")}))}},Nt={provideUser:function(e){return e.user},userToken:function(e){return e.token},userImage:function(e){return e.imagePath},responseMessage:function(e){return e.message},updatedUser:function(e){return e.user}},Dt={state:function(){return{user:{},imagePath:null,userID:null,token:null,message:null}},mutations:Et,actions:Lt,getters:Nt},Ft=Dt,Gt=Object(ke["a"])({modules:{userAuth:Mt,userSingup:xt,tasks:zt,user:Ft}}),Vt=Gt,Rt=Object(r["a"])({history:Object(r["b"])(),routes:[{path:"/",name:"Login",component:ee,meta:{unauth:!0}},{path:"/todo",name:"Todo",component:We,meta:{auth:!0},children:[{path:"/tasks",name:"Tasks",component:jt},{path:"/profile",name:"Profile",component:ze}]}]});Rt.beforeEach((function(e,t,s){e.meta.auth&&!Vt.getters.isLoggedin?s("/"):e.meta.unauth&&Vt.getters.isLoggedin?s("/tasks"):s()}));var qt=Rt,Jt=Object(a["e"])(c);Jt.use(Vt),Jt.use(qt),Jt.mount("#app")},"5e51":function(e,t,s){},6535:function(e,t,s){"use strict";s("33a0")},b73d:function(e,t,s){},bee5:function(e,t,s){},bf14:function(e,t,s){},c340:function(e,t,s){},d4bc:function(e,t,s){"use strict";s("3c03")},d62d:function(e,t,s){"use strict";s("bee5")},dc02:function(e,t,s){"use strict";s("07a4")},dc7b:function(e,t,s){"use strict";s("c340")},eb08:function(e,t,s){"use strict";s("5e51")},eee0:function(e,t,s){"use strict";s("bf14")}});
//# sourceMappingURL=app.0525a494.js.map